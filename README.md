# ЁЯУШ PostgreSQL 

---

## ЁЯза What is PostgreSQL?

**PostgreSQL** ржПржХржЯрж┐ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА, ржУржкрзЗржи-рж╕рзЛрж░рзНрж╕ **object-relational database management system (ORDBMS)**ред ржПржЯрж┐ SQL ржнрж╛рж╖рж╛ржХрзЗ ржЙржирзНржиржд ржХрж░рзЗ ржЕрждрж┐рж░рж┐ржХрзНржд ржЕржирзЗржХ ржлрж┐ржЪрж╛рж░ ржпрзЛржЧ ржХрж░рзЗржЫрзЗ ржпрзЗржоржи:

- Complex queries  
- Foreign keys  
- Triggers  
- Updatable views  
- Transactions  
- Multiversion Concurrency Control (MVCC)

ржПржЯрж┐ ржирж┐рж░рзНржнрж░ржпрзЛржЧрзНржпрждрж╛, ржлрж┐ржЪрж╛рж░рзЗрж░ рж╕ржорзГржжрзНржзрждрж╛ ржПржмржВ ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕рзЗрж░ ржЬржирзНржп ржмрж┐ржЦрзНржпрж╛ржд, ржмрж┐рж╢рзЗрж╖ ржХрж░рзЗ **data warehousing**, **web applications** ржПржмржВ **analytics systems** ржПрж░ ржЬржирзНржп ржЙржкржпрзБржХрзНрждред

---

## ЁЯза PostgreSQL-ржП рж╕рзНржХрж┐ржорж╛ (Schema) ржПрж░ ржЙржжрзНржжрзЗрж╢рзНржп

ржПржХржЯрж┐ **schema** рж╣ржЪрзНржЫрзЗ ржПржХржЯрж┐ namespace ржпрж╛ ржмрж┐ржнрж┐ржирзНржи **database objects** (ржпрзЗржоржи table, view, index, function ржЗрждрзНржпрж╛ржжрж┐) ржзрж╛рж░ржг ржХрж░рзЗред

**ржЙржжрзНржжрзЗрж╢рзНржпржГ**
- **Organization:** рж╕ржорзНржкрж░рзНржХрж┐ржд object ржЧрзБрж▓рзЛ ржПржХрждрзНрж░рзЗ рж░рж╛ржЦрждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред
- **Access Control:** ржкрзНрж░рждрж┐ржЯрж┐ рж╕рзНржХрж┐ржорж╛рзЯ ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗ ржкрж╛рж░ржорж┐рж╢ржи рж╕рзЗржЯ ржХрж░рж╛ ржпрж╛рзЯред
- **Name Conflict Avoidance:** ржПржХ ржирж╛ржорзЗрж░ object ржмрж┐ржнрж┐ржирзНржи рж╕рзНржХрж┐ржорж╛рзЯ ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗред

**ржЙржжрж╛рж╣рж░ржг:**
```sql
CREATE SCHEMA wildlife;
CREATE TABLE wildlife.animals (
  id SERIAL PRIMARY KEY,
  name VARCHAR(100)
);
```

---

## ЁЯФС Primary Key ржПржмржВ Foreign Key ржПрж░ ржмрзНржпрж╛ржЦрзНржпрж╛

### Primary Key

ржПржХржЯрж┐ **primary key** ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЗржХрж░рзНржбржХрзЗ ржЗржЙржирж┐ржХржнрж╛ржмрзЗ ржЪрж┐рж╣рзНржирж┐ржд ржХрж░рзЗред ржПржЯрж┐ ржЗржЙржирж┐ржХ ржорж╛ржи рж░рж╛ржЦрзЗ ржПржмржВ ржХржЦржирзЛ NULL рж╣рзЯ ржирж╛ред

```sql
CREATE TABLE students (
  student_id SERIAL PRIMARY KEY,
  name VARCHAR(100)
);
```

### Foreign Key

**Foreign key** ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕рж╛ржерзЗ ржЖрж░рзЗржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржорзНржкрж░рзНржХ рждрзИрж░рж┐ ржХрж░рзЗред ржПржЯрж┐ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ ржпрзЗ ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржорж╛ржи ржЕржирзНржп ржЯрзЗржмрж┐рж▓рзЗржУ ржерж╛ржХрждрзЗ рж╣ржмрзЗ тАФ ржПржЯрж╛ржХрзЗ **referential integrity** ржмрж▓рж╛ рж╣рзЯред

```sql
CREATE TABLE enrollments (
  enrollment_id SERIAL PRIMARY KEY,
  student_id INT REFERENCES students(student_id),
  course_name VARCHAR(100)
);
```

---

## ЁЯЧВя╕П GROUP BY Clause ржПржмржВ Aggregation ржП ржПрж░ ржнрзВржорж┐ржХрж╛

**GROUP BY** ржХрзНрж▓ржЬржЯрж┐ ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрж▓рж╛ржорзЗрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ рж░рзЗржХрж░рзНржбржЧрзБрж▓рзЛржХрзЗ ржЧрзНрж░рзБржк ржХрж░рзЗред ржПржЯрж┐ рж╕рж╛ржзрж╛рж░ржгржд **aggregate functions** (ржпрзЗржоржи COUNT, SUM, AVG) ржПрж░ рж╕рж╛ржерзЗ ржмрзНржпржмрж╣рзГржд рж╣рзЯред

```sql
SELECT department, COUNT(*) AS employee_count
FROM employees
GROUP BY department;
```

**ржЙржкржХрж╛рж░рж┐рждрж╛ржГ**
- ржбрзЗржЯрж╛рж░ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржЕржВрж╢рзЗрж░ ржЙржкрж░ рж╣рж┐рж╕рж╛ржм ржХрж░рж╛ ржпрж╛рзЯ
- ржпрзЗржоржи тАФ ржкрзНрж░рждрж┐ржЯрж┐ ржмрж┐ржнрж╛ржЧрзЗ ржХрждржЬржи ржХрж░рзНржорзА ржЖржЫрзЗ рждрж╛ ржЬрж╛ржирж╛ ржпрж╛рзЯ

---

## ЁЯУК Aggregate Functions in PostgreSQL

**Aggregate functions** ржПржХржЯрж┐ ржбрзЗржЯрж╛рж░ рж╕рзЗржЯрзЗрж░ ржЙржкрж░ ржЧржгржирж╛ ржХрж░рзЗ ржПржХржЯрж┐ ржПржХржХ ржлрж▓рж╛ржлрж▓ ржжрзЗрзЯред

### Common Aggregate Functions:

- `COUNT()` тЖТ ржорзЛржЯ рж░рзЗржХрж░рзНржбрзЗрж░ рж╕ржВржЦрзНржпрж╛
- `SUM()` тЖТ рж╕ржВржЦрзНржпрж╛ржЧрзБрж▓рзЛрж░ ржпрзЛржЧржлрж▓
- `AVG()` тЖТ ржЧрзЬ рж╣рж┐рж╕рж╛ржм ржХрж░рзЗ

```sql
SELECT
  COUNT(*) AS total_orders,
  SUM(price) AS total_sales,
  AVG(price) AS average_price
FROM orders;
```

**ржмрзНржпржмрж╣рж╛рж░:**  
ржПржЧрзБрж▓рзЛ **GROUP BY** ржПрж░ рж╕рж╛ржерзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржЧрзНрж░рзБржкрзЗрж░ ржЬржирзНржп ржмрж┐рж╢рзНрж▓рзЗрж╖ржг ржХрж░рж╛ рж╕рж╣ржЬ рж╣рзЯред ржпрзЗржоржи тАФ ржкрзНрж░рждрж┐ ржХрж╛рж╕рзНржЯржорж╛рж░рзЗрж░ ржорзЛржЯ ржЕрж░рзНржбрж╛рж░ рж╕ржВржЦрзНржпрж╛ ржмрж╛ ржмрж┐ржХрзНрж░рж┐рж░ ржЧрзЬред

---


